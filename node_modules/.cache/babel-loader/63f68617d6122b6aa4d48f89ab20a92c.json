{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pascal/test/NestorAppartement/src/Apartments/CreateApartment/CreateApartment.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { createApartmentForm } from \"./Display\";\nimport url from \"../../Utlis/Url\";\nimport api from \"../../Utlis/ApiRequest\";\nimport { createResetBtn } from \"../../Utlis/Btn/ResetBtn\";\nimport { modalAlert, modalAlertError } from \"../../Utlis/Alert\";\nimport ReduxActions from \"../../Redux/Actions/ReduxActions\";\nimport { createBtn } from \"../../Utlis/Btn/CreateBtn\";\n\nfunction useLogic() {\n  _s();\n\n  const [createApValue, setCreateApValue] = useState(ReduxActions.getAp());\n  useEffect(() => {}, []);\n\n  function errorMessage() {\n    if (!createApValue.number) modalAlertError(\"You didn't give a number\");else if (!createApValue.name) modalAlertError(\"You didn't give a name\");else if (createApValue.rooms.length <= 0) modalAlertError(\"It should have at least one room\");else modalAlertError(\"Don't know what went wrong\");\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (createApValue.rooms && createApValue.rooms.length > 0 && createApValue.name && createApValue.number) api.post(url.apartment.base, createApValue).then(data => {\n      if (data) {\n        resetFunction();\n        modalAlert(\"Your apartment have been created\");\n        window.location.href = \"/\";\n      }\n    });else errorMessage();\n  }\n\n  function removeRoom(e, index) {\n    e.preventDefault();\n    setCreateApValue(val => {\n      let newObj = { ...val,\n        rooms: val.rooms.map((room, key) => {\n          return index !== key ? room : null;\n        })\n      };\n      ReduxActions.setAp(newObj);\n      return newObj;\n    });\n  }\n\n  function setName(name) {\n    setCreateApValue(val => {\n      ReduxActions.setAp({ ...val,\n        name: name\n      });\n      return { ...val,\n        name: name\n      };\n    });\n  }\n\n  function setNumber(number) {\n    setCreateApValue(val => {\n      ReduxActions.setAp({ ...val,\n        number: number\n      });\n      return { ...val,\n        number: number\n      };\n    });\n  }\n\n  function resetFunction() {\n    ReduxActions.deleteAp();\n    setCreateApValue({});\n  }\n\n  return {\n    createApValue,\n    setName,\n    setNumber,\n    submitForm,\n    removeRoom,\n    resetFunction\n  };\n}\n\n_s(useLogic, \"3NrC3zjAREaqxb+6I97GsQp7f0c=\");\n\nexport default function App() {\n  _s2();\n\n  const {\n    createApValue,\n    setName,\n    setNumber,\n    submitForm,\n    removeRoom,\n    resetFunction\n  } = useLogic();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"textCenter my-3\",\n      children: \" Create apartment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), createBtn(\"room\", \"/createRoom/\"), createApartmentForm(createApValue, setName, setNumber, submitForm, removeRoom), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end\",\n      children: createResetBtn(resetFunction)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(App, \"RN6QgqGASfXs3vnxtmM+CBkbfBw=\", false, function () {\n  return [useLogic];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/pascal/test/NestorAppartement/src/Apartments/CreateApartment/CreateApartment.js"],"names":["React","useEffect","useState","createApartmentForm","url","api","createResetBtn","modalAlert","modalAlertError","ReduxActions","createBtn","useLogic","createApValue","setCreateApValue","getAp","errorMessage","number","name","rooms","length","submitForm","e","preventDefault","post","apartment","base","then","data","resetFunction","window","location","href","removeRoom","index","val","newObj","map","room","key","setAp","setName","setNumber","deleteAp","App"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { createApartmentForm } from \"./Display\";\nimport url from \"../../Utlis/Url\";\nimport api from \"../../Utlis/ApiRequest\";\nimport { createResetBtn } from \"../../Utlis/Btn/ResetBtn\";\nimport { modalAlert, modalAlertError } from \"../../Utlis/Alert\";\nimport ReduxActions from \"../../Redux/Actions/ReduxActions\";\nimport { createBtn } from \"../../Utlis/Btn/CreateBtn\";\n\nfunction useLogic() {\n  const [createApValue, setCreateApValue] = useState(ReduxActions.getAp());\n  useEffect(() => {}, []);\n\n  function errorMessage() {\n    if (!createApValue.number) modalAlertError(\"You didn't give a number\");\n    else if (!createApValue.name) modalAlertError(\"You didn't give a name\");\n    else if (createApValue.rooms.length <= 0)\n      modalAlertError(\"It should have at least one room\");\n    else modalAlertError(\"Don't know what went wrong\");\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (\n      createApValue.rooms &&\n      createApValue.rooms.length > 0 &&\n      createApValue.name &&\n      createApValue.number\n    )\n      api.post(url.apartment.base, createApValue).then((data) => {\n        if (data) {\n          resetFunction();\n          modalAlert(\"Your apartment have been created\");\n          window.location.href = \"/\";\n        }\n      });\n    else errorMessage();\n  }\n\n  function removeRoom(e, index) {\n    e.preventDefault();\n    setCreateApValue((val) => {\n      let newObj = {\n        ...val,\n        rooms: val.rooms.map((room, key) => {\n          return index !== key ? room : null;\n        }),\n      };\n      ReduxActions.setAp(newObj);\n      return newObj;\n    });\n  }\n\n  function setName(name) {\n    setCreateApValue((val) => {\n      ReduxActions.setAp({ ...val, name: name });\n\n      return { ...val, name: name };\n    });\n  }\n\n  function setNumber(number) {\n    setCreateApValue((val) => {\n      ReduxActions.setAp({ ...val, number: number });\n      return { ...val, number: number };\n    });\n  }\n\n  function resetFunction() {\n    ReduxActions.deleteAp();\n    setCreateApValue({});\n  }\n\n  return {\n    createApValue,\n    setName,\n    setNumber,\n    submitForm,\n    removeRoom,\n    resetFunction,\n  };\n}\n\nexport default function App() {\n  const {\n    createApValue,\n    setName,\n    setNumber,\n    submitForm,\n    removeRoom,\n    resetFunction,\n  } = useLogic();\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"textCenter my-3\"> Create apartment</h1>\n      {createBtn(\"room\", \"/createRoom/\")}\n      {createApartmentForm(\n        createApValue,\n        setName,\n        setNumber,\n        submitForm,\n        removeRoom\n      )}\n      <div className=\"d-flex justify-content-end\">\n        {createResetBtn(resetFunction)}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}